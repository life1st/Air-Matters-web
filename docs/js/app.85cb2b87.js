webpackJsonp([1],{0:function(t,n,e){t.exports=e("NHnr")},"1WZz":function(t,n){},"4bnA":function(t,n){},"95Dg":function(t,n,e){t.exports=e.p+"img/icon-default-avatar.4ab43824.png"},"9avF":function(t,n){},Av2U:function(t,n){},GML9:function(t,n){},Jcpb:function(t,n){},LdiH:function(t,n){},M6kN:function(t,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"b",function(){return i});var a=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"about"},[a("p",{staticClass:"describe"},[a("img",{staticClass:"icon",attrs:{src:e("QB7A"),alt:"app-logo"}})]),a("h1",[t._v("Air-Matters")]),a("p",[t._v("This is a personal project.")]),a("p",[t._v("It's unofficial.")])])}]},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("/5sW"),i=e("95Dg"),s=e.n(i),c={name:"hamburger",data:function(){return{appVersion:"0.1.0",userName:"未登录",avatarSrc:s.a,menuList:[[{name:"空气质量指数",to:"/home"},{name:"空气质量地图",to:"/map"},{name:"排行榜",to:"/ranking"},{name:"发现",to:"/discovery"}],[{name:"编辑收藏地点列表",to:"/collection"}],[{name:"设置",to:"/setting"},{name:"关于",to:"/about"}]],touch:{start:[],end:[]}}},props:{isMenuShow:{type:Boolean,default:function(){return!1}}},computed:{setHeaderStyl:function(){var t="default";return"background-image: url('".concat(t,"')")}},methods:{cancelSelect:function(){this.$emit("cancelSelect")},changeRouter:function(){this.$emit("changeRouter")},setListIcon:function(t){return"background-image: url('".concat(t,"')")},login:function(){alert("不能登陆现在。")}},created:function(){}},o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("transition",{attrs:{name:"blank"}},[e("div",{staticClass:"hamburger"},[e("transition",{attrs:{name:"slide-left"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isMenuShow,expression:"isMenuShow"}],staticClass:"content"},[e("div",{staticClass:"header",style:t.setHeaderStyl},[e("div",{staticClass:"user-info",on:{click:t.login}},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:t.avatarSrc,alt:"user avatar"}})]),e("p",{staticClass:"user-name"},[t._v(t._s(t.userName))])]),e("div",{staticClass:"app-version"},[t._v("\n            Ver "+t._s(t.appVersion)+"\n          ")])]),e("ul",{staticClass:"list",on:{click:t.changeRouter}},[t._l(t.menuList[0],function(n){return e("li",{key:n.to},[e("router-link",{attrs:{to:n.to,"active-class":"active"}},[e("i",{staticClass:"icon",style:t.setListIcon(n.icon)}),t._v("\n              "+t._s(n.name)+"\n            ")])],1)}),e("li",{staticClass:"line"}),t._l(t.menuList[1],function(n){return e("li",{key:n.to},[e("router-link",{attrs:{to:n.to,"active-class":"active"}},[e("i",{staticClass:"icon",style:t.setListIcon(n.icon)}),t._v("\n              "+t._s(n.name)+"\n            ")])],1)}),e("li",{staticClass:"line"}),t._l(t.menuList[2],function(n){return e("li",{key:n.to},[e("router-link",{attrs:{to:n.to,"active-class":"active"}},[e("i",{staticClass:"icon",style:t.setListIcon(n.icon)}),t._v("\n              "+t._s(n.name)+"\n            ")])],1)})],2)])]),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isMenuShow,expression:"isMenuShow"}],staticClass:"mask",on:{click:t.cancelSelect}})])],1)])},r=[],u=e("XyMi");function l(t){e("b83N")}var v=!1,f=l,d="data-v-1a301a4e",h=null,m=Object(u["a"])(c,o,r,v,f,d,h),p=m.exports,_={name:"navigator",data:function(){return{title:"在意空气",isOpenMenu:!1,touch:{start:[0,0],end:[0,0]}}},components:{hamburger:p},created:function(){this.initTouchEvent()},methods:{openMenu:function(){this.isOpenMenu=!0},hideMenu:function(){this.isOpenMenu=!1},initTouchEvent:function(){var t=this;window.addEventListener("touchstart",function(n){t.touch.start[0]=n.changedTouches[0].clientX,t.touch.start[1]=n.changedTouches[0].clientY}),window.addEventListener("touchend",function(n){t.touch.end[0]=n.changedTouches[0].clientX,t.touch.end[1]=n.changedTouches[0].clientY,t.canOpenMenu()})},canOpenMenu:function(){var t=this.touch.start[0],n=this.touch.end[0],e=this.touch.start[1],a=this.touch.end[1],i=document.body.clientWidth;Math.abs(n-t)>10&&t<i/3&&Math.abs(a-e)<100&&this.openMenu()}}},g=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"navigator"},[e("div",{staticClass:"header"},[e("i",{staticClass:"icon",on:{click:t.openMenu}}),e("p",{staticClass:"title"},[t._v(t._s(t.title))])]),e("hamburger",{directives:[{name:"show",rawName:"v-show",value:t.isOpenMenu,expression:"isOpenMenu"}],attrs:{isMenuShow:t.isOpenMenu},on:{changeRouter:t.hideMenu,cancelSelect:t.hideMenu}})],1)},C=[];function y(t){e("kCfc")}var b=!1,M=y,k="data-v-50bfa7d9",O=null,w=Object(u["a"])(_,g,C,b,M,k,O),x=w.exports,E=(e("Y4FN"),e("EuXz"),e("y9m4"),e("mtWM")),$=e.n(E),I="http://localhost:3000";function L(){var t="".concat(I,"/all");return $.a.get(t).then(function(t){return console.log("res",t),new Promise(function(n){return n(t.data)})})}function j(t){var n="".concat(I,"/city"),e=t.id,a=t.name,i=t.country,s="zh_Hans";return $.a.get(n,{params:{id:e,city:a,country:i,lang:s}}).then(function(t){return new Promise(function(n){return n(t.data)})})}function N(){var t="".concat(I,"/ranking");return $.a.get(t).then(function(t){return console.log(t),new Promise(function(n){return n(t)})})}var S={components:{navigator:x},created:function(){N().then(function(t){console.log(t,"get ranking.")})}},A=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("navigator"),e("router-view")],1)},P=[];function Q(t){e("9avF")}var q=!1,H=Q,T=null,D=null,G=Object(u["a"])(S,A,P,q,H,T,D),Y=G.exports,V=e("/ocq"),W={name:"card",data:function(){return{info:null}},props:{cityInfo:{type:Object}},computed:{aqiColor:function(){var t=this.AQILevel(this.info.aqi.value);return this.color(t)}},methods:{color:function(t){switch(t){case 0:return"#31cd31";case 1:return"#00f";case 2:return"#e02d1c";case 3:return"#000"}},setCityData:function(){var t=this,n={country:this.cityInfo.url_key,city:this.cityInfo.name,id:this.cityInfo.place_id};j(n).then(function(n){t.info=n})},AQILevel:function(t){var n=0;return n=t<50?0:t>=50&&t<100?1:t>=100&&t<150?2:3,n},AQIGrade:function(t){var n=["优秀","良好","轻度污染","重度污染"];return n[this.AQILevel(t)]},borderC:function(t){var n=this.AQILevel(t);return this.color(n)},toDetail:function(){var t=this.cityInfo.name;this.$router.push("/detail/".concat(t))}},created:function(){this.setCityData()}},X=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.info?e("div",{staticClass:"city-card",on:{click:t.toDetail}},[e("div",{staticClass:"main-info"},[e("div",{staticClass:"left"},[e("p",{staticClass:"city-name"},[t._v(t._s(t.info.city))]),e("div",{staticClass:"aqi"},[e("span",{staticClass:"title"},[t._v("空气质量指数")]),e("span",{staticClass:"value"},[t._v(t._s(t.AQIGrade(t.info.aqi.value)))])])]),e("div",{staticClass:"right"},[e("span",{staticClass:"aqi-num"},[t._v(t._s(t.info.aqi.value))]),e("i",{staticClass:"symbol icon",style:"background: "+t.aqiColor})])]),e("div",{staticClass:"pollutant"},[e("div",{staticClass:"item pm2d5",style:"border-bottom: 2px solid "+t.borderC(t.info.pollutant["PM10"].value)},[e("span",{staticClass:"title"},[t._v("PM2.5")]),e("span",{staticClass:"value"},[t._v(t._s(t.info.pollutant["PM2.5"].value))])]),e("div",{staticClass:"item",style:"border-bottom: 2px solid "+t.borderC(t.info.pollutant["PM10"].value)},[e("span",{staticClass:"title"},[t._v("PM10")]),e("span",{staticClass:"value"},[t._v(t._s(t.info.pollutant["PM10"].value))])]),e("div",{staticClass:"item",style:"border-bottom: 2px solid "+t.borderC(t.info.pollutant["PM10"].value)},[e("span",{staticClass:"title"},[t._v("NO2")]),e("span",{staticClass:"value"},[t._v(t._s(t.info.pollutant["NO2"].value))])])])]):t._e()},z=[];function R(t){e("O74K")}var B=!1,F=R,J="data-v-3478ae3a",K=null,U=Object(u["a"])(W,X,z,B,F,J,K),Z=U.exports,tt={name:"home",data:function(){return{citys:[],hotCitys:[]}},components:{cityCard:Z},methods:{getHotCitys:function(){var t=["beijing","shanghai","chongqing"],n=this.citys;this.hotCitys=n.filter(function(n){n=n.name.toLowerCase();for(var e=0;e<t.length;e++){var a=t[e];if(-1!=n.indexOf(a))return!0}})}},created:function(){var t=this;L().then(function(n){t.citys=n,t.getHotCitys()}).catch(function(t){console.log(t)})}},nt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.hotCitys.length>0?e("div",{staticClass:"home"},[t._m(0),t._l(t.hotCitys,function(t){return e("city-card",{key:t.name,attrs:{cityInfo:t}})})],2):t._e()},et=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"title"},[e("p",[t._v("收藏的地点")])])}];function at(t){e("1WZz")}var it=!1,st=at,ct="data-v-163b6186",ot=null,rt=Object(u["a"])(tt,nt,et,it,st,ct,ot),ut=rt.exports,lt=e("vu9I"),vt={name:"collection"},ft=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},dt=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"collection"},[e("p",[t._v("this is collection page.")])])}];function ht(t){e("sYiQ")}var mt=!1,pt=ht,_t="data-v-62ab9a15",gt=null,Ct=Object(u["a"])(vt,ft,dt,mt,pt,_t,gt),yt=Ct.exports,bt={name:"discovery"},Mt=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},kt=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"discovery"},[e("p",[t._v("this is discovery page.")])])}];function Ot(t){e("LdiH")}var wt=!1,xt=Ot,Et="data-v-7ed3ba5d",$t=null,It=Object(u["a"])(bt,Mt,kt,wt,xt,Et,$t),Lt=It.exports,jt={name:"airMap"},Nt=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},St=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"air-map"},[e("p",[t._v("this is map components")])])}];function At(t){e("4bnA")}var Pt=!1,Qt=At,qt="data-v-e11c2576",Ht=null,Tt=Object(u["a"])(jt,Nt,St,Pt,Qt,qt,Ht),Dt=Tt.exports,Gt={name:"ranking"},Yt=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},Vt=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"ranking"},[e("p",[t._v("this is ranking page")])])}];function Wt(t){e("OVsM")}var Xt=!1,zt=Wt,Rt="data-v-1a2cf236",Bt=null,Ft=Object(u["a"])(Gt,Yt,Vt,Xt,zt,Rt,Bt),Jt=Ft.exports,Kt={name:"setting"},Ut=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},Zt=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"setting"},[e("p",[t._v("this is setting page.")])])}];function tn(t){e("GML9")}var nn=!1,en=tn,an="data-v-13528546",sn=null,cn=Object(u["a"])(Kt,Ut,Zt,nn,en,an,sn),on=cn.exports,rn={name:"detail",computed:{cityName:function(){var t=this.$router.params.city;return t}}},un=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"city-detail"},[e("p",[t._v("this is city detail page.")]),e("div",{staticClass:"city"},[t._v(t._s(t.cityName))])])},ln=[];function vn(t){e("Av2U")}var fn=!1,dn=vn,hn="data-v-6a3aaf02",mn=null,pn=Object(u["a"])(rn,un,ln,fn,dn,hn,mn),_n=pn.exports;a["a"].use(V["a"]);var gn=new V["a"]({routes:[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:ut},{path:"/about",name:"about",component:lt["default"]},{path:"/collection",name:"collection",component:yt},{path:"/discovery",name:"discovery",component:Lt},{path:"/map",name:"map",component:Dt},{path:"/ranking",name:"ranking",component:Jt},{path:"/setting",name:"setting",component:on},{path:"/detail/:city",name:"cityDetail",component:_n}]}),Cn=e("NYxO");a["a"].use(Cn["a"]);var yn=new Cn["a"].Store({state:{},mutations:{},actions:{}});a["a"].config.productionTip=!1,new a["a"]({router:gn,store:yn,render:function(t){return t(Y)}}).$mount("#app")},O74K:function(t,n){},OVsM:function(t,n){},QB7A:function(t,n,e){t.exports=e.p+"img/logo.8784e059.png"},b83N:function(t,n){},kCfc:function(t,n){},sYiQ:function(t,n){},vu9I:function(t,n,e){"use strict";var a=e("Jcpb"),i=e.n(a),s=e("M6kN"),c=e("XyMi");function o(t){e("xjgG")}var r=!1,u=o,l="data-v-4e93c3ef",v=null,f=Object(c["a"])(i.a,s["a"],s["b"],r,u,l,v);n["default"]=f.exports},xjgG:function(t,n){}},[0]);
//# sourceMappingURL=app.85cb2b87.js.map