webpackJsonp([1],{"/C9v":function(t,n){},0:function(t,n,e){t.exports=e("NHnr")},"4bnA":function(t,n){},"95Dg":function(t,n,e){t.exports=e.p+"img/icon-default-avatar.4ab43824.png"},"9avF":function(t,n){},Dnxp:function(t,n){},GML9:function(t,n){},LdiH:function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("/5sW"),i=e("95Dg"),s=e.n(i),c={name:"hamburger",data:function(){return{appVersion:"0.1.0",userName:"未登录",avatarSrc:s.a,menuList:[[{name:"空气质量指数",to:"/home"},{name:"空气质量地图",to:"/map"},{name:"排行榜",to:"/ranking"},{name:"发现",to:"/discovery"}],[{name:"编辑收藏地点列表",to:"/collection"}],[{name:"设置",to:"/setting"},{name:"关于",to:"/about"}]],touch:{start:[],end:[]}}},props:{isMenuShow:{type:Boolean,default:function(){return!1}}},computed:{setHeaderStyl:function(){var t="default";return"background-image: url('".concat(t,"')")}},methods:{cancelSelect:function(){this.$emit("cancelSelect")},changeRouter:function(){this.$emit("changeRouter")},setListIcon:function(t){return"background-image: url('".concat(t,"')")},login:function(){alert("不能登陆现在。")}},created:function(){}},o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("transition",{attrs:{name:"blank"}},[e("div",{staticClass:"hamburger"},[e("transition",{attrs:{name:"slide-left"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isMenuShow,expression:"isMenuShow"}],staticClass:"content"},[e("div",{staticClass:"header",style:t.setHeaderStyl},[e("div",{staticClass:"user-info",on:{click:t.login}},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:t.avatarSrc,alt:"user avatar"}})]),e("p",{staticClass:"user-name"},[t._v(t._s(t.userName))])]),e("div",{staticClass:"app-version"},[t._v("\n            Ver "+t._s(t.appVersion)+"\n          ")])]),e("ul",{staticClass:"list",on:{click:t.changeRouter}},[t._l(t.menuList[0],function(n){return e("li",{key:n.to},[e("router-link",{attrs:{to:n.to,"active-class":"active"}},[e("i",{staticClass:"icon",style:t.setListIcon(n.icon)}),t._v("\n              "+t._s(n.name)+"\n            ")])],1)}),e("li",{staticClass:"line"}),t._l(t.menuList[1],function(n){return e("li",{key:n.to},[e("router-link",{attrs:{to:n.to,"active-class":"active"}},[e("i",{staticClass:"icon",style:t.setListIcon(n.icon)}),t._v("\n              "+t._s(n.name)+"\n            ")])],1)}),e("li",{staticClass:"line"}),t._l(t.menuList[2],function(n){return e("li",{key:n.to},[e("router-link",{attrs:{to:n.to,"active-class":"active"}},[e("i",{staticClass:"icon",style:t.setListIcon(n.icon)}),t._v("\n              "+t._s(n.name)+"\n            ")])],1)})],2)])]),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isMenuShow,expression:"isMenuShow"}],staticClass:"mask",on:{click:t.cancelSelect}})])],1)])},r=[],u=e("XyMi");function l(t){e("b83N")}var v=!1,f=l,h="data-v-1a301a4e",m=null,d=Object(u["a"])(c,o,r,v,f,h,m),p=d.exports,_={name:"navigator",data:function(){return{title:"在意空气",isOpenMenu:!1,touch:{start:[0,0],end:[0,0]}}},components:{hamburger:p},created:function(){this.initTouchEvent()},methods:{openMenu:function(){this.isOpenMenu=!0},hideMenu:function(){this.isOpenMenu=!1},initTouchEvent:function(){var t=this;window.addEventListener("touchstart",function(n){t.touch.start[0]=n.changedTouches[0].clientX,t.touch.start[1]=n.changedTouches[0].clientY}),window.addEventListener("touchend",function(n){t.touch.end[0]=n.changedTouches[0].clientX,t.touch.end[1]=n.changedTouches[0].clientY,t.canOpenMenu()})},canOpenMenu:function(){var t=this.touch.start[0],n=this.touch.end[0],e=this.touch.start[1],a=this.touch.end[1],i=document.body.clientWidth;Math.abs(n-t)>10&&t<i/3&&Math.abs(a-e)<100&&this.openMenu()}}},g=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"navigator"},[e("div",{staticClass:"header"},[e("i",{staticClass:"icon",on:{click:t.openMenu}}),e("p",{staticClass:"title"},[t._v(t._s(t.title))])]),e("hamburger",{directives:[{name:"show",rawName:"v-show",value:t.isOpenMenu,expression:"isOpenMenu"}],attrs:{isMenuShow:t.isOpenMenu},on:{changeRouter:t.hideMenu,cancelSelect:t.hideMenu}})],1)},y=[];function C(t){e("kCfc")}var b=!1,M=C,w="data-v-50bfa7d9",k=null,O=Object(u["a"])(_,g,y,b,M,w,k),E=O.exports,$={components:{navigator:E}},x=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("navigator"),e("router-view")],1)},L=[];function S(t){e("9avF")}var j=!1,I=S,N=null,q=null,H=Object(u["a"])($,x,L,j,I,N,q),T=H.exports,A=e("/ocq"),Q=(e("EuXz"),e("y9m4"),e("mtWM")),D=e.n(Q),V="http://192.168.0.116:3000";function Y(){var t="".concat(V,"/all");return D.a.get(t).then(function(t){return console.log("res",t),new Promise(function(n){return n(t.data)})})}function G(t){var n="".concat(V,"/city"),e=t.id,a=t.name,i=t.country,s="zh_Hans";return D.a.get(n,{params:{id:e,city:a,country:i,lang:s}}).then(function(t){return new Promise(function(n){return n(t.data)})})}var R={name:"card",data:function(){return{info:null}},props:{cityInfo:{type:Object}},computed:{aqiColor:function(){var t=this.AQILevel(this.info.aqi.value);switch(t){case 0:return"#0f0";case 1:return"#00f";case 2:return"#f00";case 3:return"#000"}}},methods:{setCityData:function(){var t=this,n={country:this.cityInfo.url_key,city:this.cityInfo.name,id:this.cityInfo.place_id};G(n).then(function(n){t.info=n})},AQILevel:function(t){var n=0;return n=t<50?0:t>=50&&t<100?1:t>=100&&t<150?2:3,n},AQIGrade:function(t){var n=["优秀","良好","轻度污染","重度污染"];return n[this.AQILevel(t)]}},created:function(){this.setCityData()}},X=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.info?e("div",{staticClass:"city-card"},[e("div",{staticClass:"main-info"},[e("div",{staticClass:"left"},[e("p",{staticClass:"city-name"},[t._v(t._s(t.info.city))]),e("div",{staticClass:"aqi"},[e("span",{staticClass:"title"},[t._v("空气质量指数")]),e("span",{staticClass:"value"},[t._v(t._s(t.AQIGrade(t.info.aqi.value)))])])]),e("div",{staticClass:"right"},[e("span",{staticClass:"aqi-num"},[t._v(t._s(t.info.aqi.value))]),e("i",{staticClass:"symbol icon",style:"background: "+t.aqiColor})])])]):t._e()},P=[];function W(t){e("Dnxp")}var z=!1,F=W,B="data-v-5f049df0",J=null,K=Object(u["a"])(R,X,P,z,F,B,J),U=K.exports,Z={name:"home",data:function(){return{citys:[],hotCitys:[]}},components:{cityCard:U},methods:{getHotCitys:function(){var t=["beijing","shanghai","chongqing"],n=this.citys;this.hotCitys=n.filter(function(n){n=n.name.toLowerCase();for(var e=0;e<t.length;e++){var a=t[e];if(-1!=n.indexOf(a))return!0}})}},created:function(){var t=this;Y().then(function(n){t.citys=n,t.getHotCitys()}).catch(function(t){console.log(t)})}},tt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.hotCitys.length>0?e("div",{staticClass:"home"},[t._m(0),t._l(t.hotCitys,function(t){return e("city-card",{key:t.name,attrs:{cityInfo:t}})})],2):t._e()},nt=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"title"},[e("p",[t._v("收藏的地点")])])}];function et(t){e("/C9v")}var at=!1,it=et,st="data-v-433ed700",ct=null,ot=Object(u["a"])(Z,tt,nt,at,it,st,ct),rt=ot.exports,ut=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},lt=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"about"},[e("h1",[t._v("This is an about page")])])}],vt=null,ft=!1,ht=null,mt=null,dt=null,pt=Object(u["a"])(vt,ut,lt,ft,ht,mt,dt),_t=pt.exports,gt={name:"collection"},yt=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},Ct=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"collection"},[e("p",[t._v("this is collection page.")])])}];function bt(t){e("sYiQ")}var Mt=!1,wt=bt,kt="data-v-62ab9a15",Ot=null,Et=Object(u["a"])(gt,yt,Ct,Mt,wt,kt,Ot),$t=Et.exports,xt={name:"discovery"},Lt=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},St=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"discovery"},[e("p",[t._v("this is discovery page.")])])}];function jt(t){e("LdiH")}var It=!1,Nt=jt,qt="data-v-7ed3ba5d",Ht=null,Tt=Object(u["a"])(xt,Lt,St,It,Nt,qt,Ht),At=Tt.exports,Qt={name:"airMap"},Dt=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},Vt=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"air-map"},[e("p",[t._v("this is map components")])])}];function Yt(t){e("4bnA")}var Gt=!1,Rt=Yt,Xt="data-v-e11c2576",Pt=null,Wt=Object(u["a"])(Qt,Dt,Vt,Gt,Rt,Xt,Pt),zt=Wt.exports,Ft={name:"ranking"},Bt=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},Jt=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"ranking"},[e("p",[t._v("this is ranking page")])])}];function Kt(t){e("OVsM")}var Ut=!1,Zt=Kt,tn="data-v-1a2cf236",nn=null,en=Object(u["a"])(Ft,Bt,Jt,Ut,Zt,tn,nn),an=en.exports,sn={name:"setting"},cn=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},on=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"setting"},[e("p",[t._v("this is setting page.")])])}];function rn(t){e("GML9")}var un=!1,ln=rn,vn="data-v-13528546",fn=null,hn=Object(u["a"])(sn,cn,on,un,ln,vn,fn),mn=hn.exports;a["a"].use(A["a"]);var dn=new A["a"]({routes:[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:rt},{path:"/about",name:"about",component:_t},{path:"/collection",name:"collection",component:$t},{path:"/discovery",name:"discovery",component:At},{path:"/map",name:"map",component:zt},{path:"/ranking",name:"ranking",component:an},{path:"/setting",name:"setting",component:mn}]}),pn=e("NYxO");a["a"].use(pn["a"]);var _n=new pn["a"].Store({state:{},mutations:{},actions:{}});a["a"].config.productionTip=!1,new a["a"]({router:dn,store:_n,render:function(t){return t(T)}}).$mount("#app")},OVsM:function(t,n){},b83N:function(t,n){},kCfc:function(t,n){},sYiQ:function(t,n){}},[0]);
//# sourceMappingURL=app.3b44eabf.js.map